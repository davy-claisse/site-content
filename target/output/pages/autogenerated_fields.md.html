<div class="page-header">
<h1>
Autogenerated fields
</h1>
</div>
<p>ActiveJDBC will save special values into columns named according to conventions.</p>
<blockquote>
<p>Name of this page is somewhat misleading. ActiveJDBC does not generate any columns, it generates values for rows in a few specific columns.</p>
</blockquote>
<h2 id="column-created_at">Column &quot;created_at&quot;</h2>
<p>If a table has this column (and the column type is one that corresponds to <code>java.sql.Timestamp</code>), then a corresponding model will save value into this column only once when a new record is created. Successive updates of even new model instances that represent this specific record will not modify data in this column, hence you can use it to investigate data change issues.</p>
<h2 id="column-updated_at">Column &quot;updated_at&quot;</h2>
<p>This column will be updated each time there is an update to an existing record via a corresponding model.</p>
<h2 id="example">Example</h2>
<p>Let's say we have an empty table PEOPLE:</p>
<table>
<colgroup>
<col width="6%" />
<col width="17%" />
<col width="16%" />
<col width="29%" />
<col width="30%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">first_name</th>
<th align="left">last_name</th>
<th align="left">created_at</th>
<th align="left">updated_at</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>A model will look like this:</p>
<div class="sourceCode"><table class="sourceCode java numberLines"><tr class="sourceCode"><td class="lineNumbers"><pre>1
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> Person{}</code></pre></td></tr></table></div>
<p>Let's add some records:</p>
<div class="sourceCode"><table class="sourceCode java numberLines"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
</pre></td><td class="sourceCode"><pre><code class="sourceCode java">Person p = <span class="kw">new</span> <span class="fu">Person</span>();
p.<span class="fu">set</span>(<span class="st">&quot;first_name&quot;</span>, <span class="st">&quot;John&quot;</span>, <span class="st">&quot;last_name&quot;</span>, <span class="st">&quot;Smith&quot;</span>);
p.<span class="fu">saveIt</span>();</code></pre></td></tr></table></div>
<p>At this point, we will have the following record in the DB:</p>
<table>
<colgroup>
<col width="6%" />
<col width="17%" />
<col width="16%" />
<col width="29%" />
<col width="30%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">first_name</th>
<th align="left">last_name</th>
<th align="left">created_at</th>
<th align="left">updated_at</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>1</p></td>
<td align="left"><p>John</p></td>
<td align="left"><p>Smith</p></td>
<td align="left"><p>2010-08-12 10:36:02</p></td>
<td align="left"><p>2010-08-12 10:36:02</p></td>
</tr>
</tbody>
</table>
<p>The dates are the same for <code>created_at</code> and <code>updated_at</code>.</p>
<p>Then, within the same program or another, we will do the following:</p>
<div class="sourceCode"><table class="sourceCode java numberLines"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
</pre></td><td class="sourceCode"><pre><code class="sourceCode java">Person john = Person.<span class="fu">findById</span>(<span class="dv">1</span>);
john.<span class="fu">set</span>(<span class="st">&quot;first_name&quot;</span>, <span class="st">&quot;John&quot;</span>, <span class="st">&quot;last_name&quot;</span>, <span class="st">&quot;Smithe&quot;</span>);
john.<span class="fu">saveIt</span>();</code></pre></td></tr></table></div>
<p>We corrected the last name from &quot;Smith&quot; to &quot;Smithe&quot;. After this operation, the same record will look like this:</p>
<table>
<colgroup>
<col width="6%" />
<col width="17%" />
<col width="16%" />
<col width="29%" />
<col width="30%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">first_name</th>
<th align="left">last_name</th>
<th align="left">created_at</th>
<th align="left">updated_at</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>1</p></td>
<td align="left"><p>John</p></td>
<td align="left"><p>Smithe</p></td>
<td align="left"><p>2010-08-12 10:36:02</p></td>
<td align="left"><p>2010-08-13 12:45:22</p></td>
</tr>
</tbody>
</table>
<p>The <code>updated_at</code> column reflects when this record was last updated.</p>
<h2 id="disabling-time-attributes-management">Disabling time attributes management</h2>
<p>In some cases, you want to have a complete control of values of <code>created_at</code> and <code>updated_at</code> fields. For instance, you need to migrate data from one database to another and want to preserve these values. You can simply turn off automatic management of these fields:</p>
<div class="sourceCode"><table class="sourceCode java numberLines"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
</pre></td><td class="sourceCode"><pre><code class="sourceCode java">Person john = ...
p.<span class="fu">manageTime</span>(<span class="kw">false</span>);
p.<span class="fu">set</span>(<span class="st">&quot;created_at&quot;</span>, createdVal);
p.<span class="fu">set</span>(<span class="st">&quot;updated_at&quot;</span>, updatedVal);
p.<span class="fu">saveIt</span>();</code></pre></td></tr></table></div>
<p>The model will simply save your values as any other attributes.</p>
