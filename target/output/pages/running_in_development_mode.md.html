<div class="page-header">
<h1>
Running in development mode
</h1>
</div>
<p>ActiveWeb will recompile and reload routes and controllers on each request in development environment. It makes it possible to experiment with controllers, pages and routes in a live application without having to restart the container. Watch the video on the <a href="activeweb">ActiveWeb</a> for an example. All that is required is a system property <code>active_reload</code> to be set.</p>
<p>Since production environments do not have compiler, or <code>active_reload</code> system property, the framework simply executes previously compiled and packaged controllers and routes.</p>
<h2 id="jetty-configuration">Jetty configuration</h2>
<p>Starting a project in development mode is easy, just type:</p>
<pre class="prettyprint"><code>mvn jetty:run</code></pre>
<p>The Jetty plugin is configured by default, and there is almost nothing in configuration of this plugin that is specific to ActiveWeb, except some system properties, see below</p>
<h3 id="system-properties-with-jetty">System properties with Jetty</h3>
<p>Typical configuration of the Jetty plugin:</p>
<div class="sourceCode"><table class="sourceCode xml numberLines"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="sourceCode"><pre><code class="sourceCode xml"><span class="kw">&lt;plugin&gt;</span>
    <span class="kw">&lt;groupId&gt;</span>org.mortbay.jetty<span class="kw">&lt;/groupId&gt;</span>
    <span class="kw">&lt;artifactId&gt;</span>maven-jetty-plugin<span class="kw">&lt;/artifactId&gt;</span>
    <span class="kw">&lt;version&gt;</span>6.1.22<span class="kw">&lt;/version&gt;</span>
    <span class="kw">&lt;configuration&gt;</span>
      <span class="kw">&lt;contextPath&gt;</span>/<span class="kw">&lt;/contextPath&gt;</span>
      <span class="kw">&lt;scanIntervalSeconds&gt;</span>0<span class="kw">&lt;/scanIntervalSeconds&gt;</span>
      <span class="kw">&lt;connectors&gt;</span>
        <span class="kw">&lt;connector</span><span class="ot"> implementation=</span><span class="st">&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;</span><span class="kw">&gt;</span>
          <span class="kw">&lt;port&gt;</span>8080<span class="kw">&lt;/port&gt;</span>
          <span class="kw">&lt;maxIdleTime&gt;</span>1000<span class="kw">&lt;/maxIdleTime&gt;</span>
        <span class="kw">&lt;/connector&gt;</span>
      <span class="kw">&lt;/connectors&gt;</span>
      <span class="kw">&lt;systemProperties&gt;</span>
        <span class="kw">&lt;systemProperty&gt;</span>
          <span class="kw">&lt;name&gt;</span>activejdbc.log<span class="kw">&lt;/name&gt;</span>
          <span class="kw">&lt;value&gt;&lt;/value&gt;</span>
        <span class="kw">&lt;/systemProperty&gt;</span>
        <span class="kw">&lt;systemProperty&gt;</span>
          <span class="kw">&lt;name&gt;</span>active_reload<span class="kw">&lt;/name&gt;</span>
          <span class="kw">&lt;value&gt;</span>true<span class="kw">&lt;/value&gt;</span>
        <span class="kw">&lt;/systemProperty&gt;</span>
        <span class="kw">&lt;systemProperty&gt;</span>
          <span class="kw">&lt;name&gt;</span>activeweb.log.request<span class="kw">&lt;/name&gt;</span>
          <span class="kw">&lt;value&gt;</span>true<span class="kw">&lt;/value&gt;</span>
        <span class="kw">&lt;/systemProperty&gt;</span>
      <span class="kw">&lt;/systemProperties&gt;</span>
    <span class="kw">&lt;/configuration&gt;</span>
<span class="kw">&lt;/plugin&gt;</span></code></pre></td></tr></table></div>
<p>In the configuration above, there are three system properties configured:</p>
<ul>
<li><code>activejdbc.log</code> - this is related to ActiveJDBC, for more information, please refer to: <a href="logging">ActiveJDBC Logging</a>. If you do not use ActiveJDBC, you can remove it.</li>
<li><code>active_reload</code> - this property if set to true, causes ActiveWeb to recompile and reload a controller being executed.</li>
<li><code>activeweb.log.request</code> - this property will enable short information logged from ActiveWeb about each request. It is recommended to have it on.</li>
</ul>
<h2 id="running-with-tomcat-maven-plugin">Running with Tomcat Maven plugin</h2>
<p>In some cases you might want to develop on Tomcat. This is useful if your target deployment in production is also Tomcat, and you might want to catch some Tomcat-related problems sooner rather than later. Here is default configuration for Tomcat:</p>
<div class="sourceCode"><table class="sourceCode xml numberLines"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="sourceCode"><pre><code class="sourceCode xml"><span class="kw">&lt;plugin&gt;</span>
    <span class="kw">&lt;groupId&gt;</span>org.apache.tomcat.maven<span class="kw">&lt;/groupId&gt;</span>
    <span class="kw">&lt;artifactId&gt;</span>tomcat7-maven-plugin<span class="kw">&lt;/artifactId&gt;</span>
    <span class="kw">&lt;version&gt;</span>2.0-beta-1<span class="kw">&lt;/version&gt;</span>
    <span class="kw">&lt;configuration&gt;</span>
        <span class="kw">&lt;systemProperties&gt;</span>
            <span class="kw">&lt;activejdbc.log/&gt;</span>
            <span class="kw">&lt;active_reload&gt;</span>true<span class="kw">&lt;/active_reload&gt;</span>
            <span class="kw">&lt;activeweb.log.request&gt;</span>true<span class="kw">&lt;/activeweb.log.request&gt;</span>
        <span class="kw">&lt;/systemProperties&gt;</span>
    <span class="kw">&lt;/configuration&gt;</span>
    <span class="kw">&lt;dependencies&gt;</span>
        <span class="kw">&lt;dependency&gt;</span>
            <span class="kw">&lt;groupId&gt;</span>com.sun<span class="kw">&lt;/groupId&gt;</span>
            <span class="kw">&lt;artifactId&gt;</span>tools<span class="kw">&lt;/artifactId&gt;</span>
            <span class="kw">&lt;version&gt;</span>1.6.0<span class="kw">&lt;/version&gt;</span>
            <span class="kw">&lt;scope&gt;</span>system<span class="kw">&lt;/scope&gt;</span>
            <span class="kw">&lt;systemPath&gt;</span>${java.home}/../lib/tools.jar<span class="kw">&lt;/systemPath&gt;</span>
        <span class="kw">&lt;/dependency&gt;</span>
    <span class="kw">&lt;/dependencies&gt;</span>
<span class="kw">&lt;/plugin&gt;</span></code></pre></td></tr></table></div>
<p>Running is as easy as with Jetty:</p>
<pre class="prettyprint"><code>mvn tomcat7:run</code></pre>
<p>The same system properties are configured here as for Jetty. For more information on Tomcat plugin, please refer to: <a href="http://tomcat.apache.org/maven-plugin-2/run-mojo-features.html">Tomcat plugin</a>.</p>
<p>The Tomcat plugin has a <code>tools.jar</code> dependency configured. It is necessary for ActiveWeb in order to recompile controllers. If you remove <code>active_reload</code> property, you can also remove this dependency, but then there will be no code refresh in development environment.</p>
